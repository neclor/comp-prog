% !TEX root = ./main.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Dans cette section, spécifiez formellement chacune des fonctionalités.                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Specifications}\label{specifications}
%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Constructeur}


\[
\begin{aligned}
&\text{course\_create\_list}: \text{Escale} \times \text{Escale} \to \text{Course} \\
&\text{pre}: e_1 \neq e_2 \land e_1 \neq \text{NULL} \land e_2 \neq \text{NULL} \land \text{escale\_time}(e_1) = 0 \\
&\text{post}: \\
&\quad \text{taille course à la création} = 2 \\
&\quad \text{course}\rightarrow\text{escale} = e1 \\
&\quad (\text{course}\rightarrow\text{next})\rightarrow\text{escale} = e2 \\
\end{aligned}
\]



\[
\begin{aligned}
&\text{course\_create\_array}: \text{Escale} \times \text{Escale} \to \text{Course} \\
&\text{pre}: e_1 \neq e_2 \land e_1 \neq \text{NULL} \land e_2 \neq \text{NULL} \land \text{escale\_time}(e_1) = 0 \\
&\text{post}: \\
&\quad \text{escale_count} = 2 \\
&\quad \text{escales[0]} = e_1 \\
&\quad \text{escales[1]} = e_2 \\
\end{aligned}
\]


\[
\begin{aligned}
&\text{escale\_create}: \text{String} \times \mathbb{R} \times \mathbb{R} \to \text{Escale} \\
&\text{pre}: \text{name} \neq \text{NULL} \\
&\text{post}: \\
&\quad \text{escale}\rightarrow\text{name} = \text{name} \\
&\quad \text{escale}\rightarrow\text{x} = x \\
&\quad \text{escale}\rightarrow\text{y}= y \\
&\quad \text{escale\_get\_best\_time}(e) = 0
\end{aligned}
\]


\subsection{Transformateur}

\[
\begin{aligned}
&\text{course\_pop}: \text{Course} \to \text{Course} \\
&\text{pre}: C \neq \text{NULL} \land \text{course\_size}(C) > 0 \\
&\text{post}: \\
&\quad \text{course\_size}(C') = \text{course\_size}(C) - 1
\end{aligned}
\]

\[
\begin{aligned}
&\text{course\_append}: \text{Course} \times \text{Escale} \to \text{Course} \\
&\text{pre}: C \neq \text{NULL} \land e \neq \text{NULL} \\
&\text{post}: \\
&\quad \text{course\_size}(C') = \text{course\_size}(C) + 1 \\
&\quad \text{course\_last}(C') = e
\end{aligned}
\]


\subsection{Observateur}



\[
\begin{aligned}
&\text{course\_is\_circuit}: \text{Course} \to \mathbb{B} \\
&\text{pre}: C \neq \text{NULL} \\
&\text{post}: \\
&\text{si } \text{première étape} = \text{dernière étape} \text{return:true} \\
&\text{sinon return:false}
\end{aligned}
\]



\[
\begin{aligned}
&\text{course\_best\_time}: \text{Course} \times \mathbb{N} \to \mathbb{R} \\
&\text{pre}: C \neq \text{NULL} \land 0 \leq \text{index} < \text{course\_size}(C) \\
&\text{post}: \\
&\quad \text{result} = \text{escale\_time}(\text{course\_at}(C, \text{index}))
\end{aligned}
\]



\[
\begin{aligned}
&\text{escale\_get\_x}: \text{Escale} \to \mathbb{R} \\
&\text{pre}: e \neq \text{NULL} \\
&\text{post}: \\
&\quad \text{result} = \text{escale\_x}(e)
\end{aligned}
\]





\[
\begin{aligned}
&\text{escale\_get\_y}: \text{Escale} \to \mathbb{R} \\
&\text{pre}: e \neq \text{NULL} \\
&\text{post}: \\
&\quad \text{result} = \text{escale\_y}(e)
\end{aligned}
\]



\[
\begin{aligned}
&\text{escale\_distance}: \text{Escale} \times \text{Escale} \to \mathbb{R} \\
&\text{pre}: e_1 \neq \text{NULL} \land e_2 \neq \text{NULL} \\
&\text{post}: \\
&d = 2R \arcsin \left( \sqrt{\sin^2 \left(\frac{\Delta \phi}{2}\right) + \cos(\phi_1) \cos(\phi_2) \sin^2 \left(\frac{\Delta \lambda}{2}\right)} \right)
\end{aligned}
\]



